/**
 * <%= model_name.camelize %> Index Component
 * 
 * Displays a paginated list of <%= model_name.humanize.pluralize.downcase %> in a responsive grid layout.
 * Includes empty state handling, status indicators, and action buttons.
 * 
 * Features:
 * - Responsive grid layout (1 col mobile, 2 tablet, 3 desktop)
 * - Empty state with call-to-action
 * - Quick view and edit actions
<% if attributes.any? { |attr| attr[:name] == 'is_active' } -%>
 * - Active/inactive status badges
<% end -%>
<% if attributes.any? { |attr| attr[:name] == 'description' } -%>
 * - Truncated description preview
<% end -%>
 */

import { Head, Link } from '@inertiajs/react'
import { Fragment } from 'react'
import { <%= model_name.camelize %>Type } from './types'

interface Props {
  <%= model_name.underscore.pluralize %>: <%= model_name.camelize %>Type[]
  academy: {
    slug: string
    name: string
  }
}

export default function Index({ <%= model_name.underscore.pluralize %>, academy }: Props) {
  return (
    <Fragment>
      <Head title="<%= model_name.camelize.pluralize %>" />
      
      <div className="card">
        <div className="card-body">
          <div className="d-flex justify-content-between align-items-center mb-4">
            <h1 className="h2 mb-0">
              <%= model_name.humanize.pluralize %>
            </h1>
            <Link
              href={`/<%= model_name.underscore.pluralize %>/new`}
              className="btn btn-primary"
            >
              New <%= model_name.humanize %>
            </Link>
          </div>

          {/* Empty State - shown when no <%= model_name.humanize.pluralize.downcase %> exist */}
          {<%= model_name.underscore.pluralize %>.length === 0 ? (
            <div className="text-center py-5">
              <p className="text-muted mb-4">No <%= model_name.underscore.pluralize %> found.</p>
              <Link
                href={`/<%= model_name.underscore.pluralize %>/new`}
                className="btn btn-primary"
              >
                Create your first <%= model_name.humanize.downcase %>
              </Link>
            </div>
          ) : (
            {/* Grid Layout - responsive cards showing <%= model_name.humanize.pluralize.downcase %> */}
            <div className="row g-3">
              {<%= model_name.underscore.pluralize %>.map((<%= model_name.underscore %>) => (
                <div key={<%= model_name.underscore %>.id} className="col-12 col-md-6 col-lg-4">
                  <div className="card h-100">
                    <div className="card-body">
                      {/* Card Header with title and status */}
                      <div className="d-flex justify-content-between align-items-start mb-3">
                        <h5 className="card-title">
                          {<%= model_name.underscore %>.name}
                        </h5>
<% if attributes.any? { |attr| attr[:name] == 'is_active' } -%>
                        <span className={`badge ${
                          <%= model_name.underscore %>.is_active 
                            ? 'bg-success' 
                            : 'bg-danger'
                        }`}>
                          {<%= model_name.underscore %>.is_active ? 'Active' : 'Inactive'}
                        </span>
<% end -%>
                      </div>
                      
<% if attributes.any? { |attr| attr[:name] == 'description' } -%>
                      {/* Description Preview - truncated with ellipsis */}
                      {<%= model_name.underscore %>.description && (
                        <p className="card-text text-muted small line-clamp-2">
                          {<%= model_name.underscore %>.description}
                        </p>
                      )}
<% end -%>
                      
                      {/* Action Buttons */}
                      <div className="d-flex gap-2">
                        <Link
                          href={`/<%= model_name.underscore.pluralize %>/${<%= model_name.underscore %>.id}`}
                          className="btn btn-outline-primary btn-sm"
                        >
                          View
                        </Link>
                        <Link
                          href={`/<%= model_name.underscore.pluralize %>/${<%= model_name.underscore %>.id}/edit`}
                          className="btn btn-outline-secondary btn-sm"
                        >
                          Edit
                        </Link>
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}
        </div>
      </div>
    </Fragment>
  )
}